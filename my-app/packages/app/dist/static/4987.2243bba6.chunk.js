"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987,7640],{143:(O,l,t)=>{t.d(l,{f:()=>s});var e=t(14041),o=t(55290),r=t(23730);const s={createCopyDocsUrlAction(c){return a=>({icon:()=>e.createElement(o.A,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>c(`${window.location.origin}${a.resolved.docsUrl}`)})},createStarEntityAction(c,a){return d=>{const n=d.entity,m=c(n);return{cellStyle:{paddingLeft:"1em"},icon:()=>e.createElement(r.m,{isFavorite:m}),tooltip:m?"Remove from favorites":"Add to favorites",onClick:()=>a(n)}}}}},4348:(O,l,t)=>{t.d(l,{V:()=>e});function e(o,r){return r.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?o:o.toLocaleLowerCase("en-US")}},19108:(O,l,t)=>{t.d(l,{A:()=>e,G:()=>o});const e="backstage.io/techdocs-ref",o="backstage.io/techdocs-entity"},47640:(O,l,t)=>{t.r(l),t.d(l,{TechDocsIndexPage:()=>et});var e=t(14041),o=t(18690),r=t(17138),s=t(56420),c=t(16454),a=t(18453),d=t(77509),n=t(30117),m=t(40941),g=t(56829),P=t(88461),j=t(24259),B=t(19108);class G{getCatalogFilters(){return{[`metadata.annotations.${B.A}`]:j.c}}}const W=()=>{const{updateFilters:v}=(0,a.nK)();return(0,e.useEffect)(()=>{v({techdocs:new G})},[v]),null};var K=t(36338),F=t(45250),V=t(99338),X=t(62112),N=t(72814),Y=t(18139),i=t(54195),D=t(44861),E=t(67633),C=t(29021),h=t(49724);function y(v){const{actions:M,columns:R,data:A,isLoading:T,options:L}=v,{updateFilters:S,setLimit:I,setOffset:p,limit:u,totalItems:f,offset:Z}=(0,a.nK)(),[$,b]=e.useState(Z&&u?Math.floor(Z/u):0);return(0,e.useEffect)(()=>{f&&$*u>=f?p(Math.max(0,f-u)):p(Math.max(0,$*u))},[p,$,u,f]),e.createElement(C.X,{columns:R,data:A,options:{paginationPosition:"both",pageSizeOptions:[5,10,20,50,100],pageSize:u,emptyRowsWhenPaging:!1,actionsColumnIndex:-1,...L},actions:M,onSearchChange:U=>S({text:U?new h.V3(U):void 0}),page:$,onPageChange:U=>{b(U)},onRowsPerPageChange:U=>{I(U)},totalCount:f,localization:{pagination:{labelDisplayedRows:""}},isLoading:T})}function J(v){const{actions:M,columns:R,data:A,next:T,prev:L,title:S,isLoading:I,options:p,...u}=v;return e.createElement(C.X,{title:I?"":S,columns:R,data:A,options:{paginationPosition:"both",...p,pageSizeOptions:[],showFirstLastPageButtons:!1,pageSize:Number.MAX_SAFE_INTEGER,emptyRowsWhenPaging:!1,actionsColumnIndex:-1},onPageChange:f=>{f>0?T?.():L?.()},page:L?1:0,totalCount:T?Number.MAX_VALUE:Number.MAX_SAFE_INTEGER,localization:{pagination:{labelDisplayedRows:""}},isLoading:I,...u})}var x=t(143),z=t(61231),_=t(17749),H=t(51529);const Q=v=>{const{columns:M,actions:R,options:A}=v,{loading:T,error:L,entities:S,filters:I,paginationMode:p,pageInfo:u}=(0,a.nK)(),{isStarredEntity:f,toggleStarredEntity:Z}=(0,D.I)(),[,$]=(0,K.A)(),b=(0,N.S)(_.Oc),U=(0,Y.gf)(i.U),k=(0,F.capitalize)(I.user?.value??"all"),w=[x.f.createCopyDocsUrlAction($),x.f.createStarEntityAction(f,Z)],q=(0,H.H)(S,b,U);return p==="cursor"?e.createElement(J,{columns:M||z.F,isLoading:T,title:k,actions:R||w,options:A,data:q,next:u?.next,prev:u?.prev}):p==="offset"?e.createElement(y,{columns:M||z.F,isLoading:T,title:k,actions:R||w,options:A,data:q}):L?e.createElement(V.B,{severity:"error",title:"Could not load available documentation."},e.createElement(X.z,{language:"text",text:L.toString()})):e.createElement(E.o,{title:k,entities:S,loading:T,actions:R||w,columns:M,options:A})};Q.columns=z.B,Q.actions=x.f;const tt=v=>{const{initialFilter:M="owned",columns:R,actions:A,ownerPickerMode:T,pagination:L,options:S,PageWrapper:I,CustomHeader:p}=v,u=I||P.S,f=p||(()=>e.createElement(r.d,{title:""},e.createElement(s.Y,null,"Discover documentation in your ecosystem.")));return e.createElement(u,null,e.createElement(c.U,null,e.createElement(f,null),e.createElement(a.B9,{pagination:L},e.createElement(d.GI,null,e.createElement(d.GI.Filters,null,e.createElement(W,null),e.createElement(n.y,{initialFilter:M}),e.createElement(m.t,{mode:T}),e.createElement(g.m,null)),e.createElement(d.GI.Content,null,e.createElement(Q,{actions:A,columns:R,options:S}))))))},et=v=>(0,o.P1)()||e.createElement(tt,{...v})},51529:(O,l,t)=>{t.d(l,{H:()=>c});var e=t(97214),o=t(699),r=t(53318),s=t(4348);function c(a,d,n){return a.map(m=>{const g=(0,o.t)(m,e.vv);return{entity:m,resolved:{docsUrl:d({namespace:(0,s.V)(m.metadata.namespace??"default",n),kind:(0,s.V)(m.kind,n),name:(0,s.V)(m.metadata.name,n)}),ownedByRelations:g,ownedByRelationsTitle:g.map(P=>(0,r.S)(P,{defaultKind:"group"})).join(", ")}}})}},55290:(O,l,t)=>{var e,o=t(4293),r=t(78920);e={value:!0},l.A=void 0;var s=r(t(14041)),c=o(t(74044)),a=(0,c.default)(s.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");l.A=a},61231:(O,l,t)=>{t.d(l,{B:()=>a,F:()=>d});var e=t(14041),o=t(49907),r=t(75202),s=t(14158);function c(n){return n.metadata.title||n.metadata.name}const a={createTitleColumn(n){return{...a.createNameColumn(),field:"entity.metadata.title",hidden:n?.hidden}},createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(n,m)=>{const g=c(n.entity).toLocaleLowerCase(),P=c(m.entity).toLocaleLowerCase();return g.localeCompare(P)},render:n=>e.createElement(o.m,{value:e.createElement(r.N_,{to:n.resolved.docsUrl},c(n.entity)),subvalue:n.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:n})=>e.createElement(s.i,{entityRefs:n.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}},d=[a.createTitleColumn({hidden:!0}),a.createNameColumn(),a.createOwnerColumn(),a.createKindColumn(),a.createTypeColumn()]},67633:(O,l,t)=>{t.d(l,{o:()=>B});var e=t(14041),o=t(36338),r=t(72814),s=t(18139),c=t(54195),a=t(17749),d=t(29021),n=t(65995),m=t(87318),g=t(143),P=t(61231),j=t(51529);const B=G=>{const{entities:W,title:K,loading:F,columns:V,actions:X,options:N}=G,[,Y]=(0,o.A)(),i=(0,r.S)(a.Oc),D=(0,s.gf)(c.U);if(!W)return null;const E=(0,j.H)(W,i,D),C=[g.f.createCopyDocsUrlAction(Y)],h=20,y=E&&E.length>h;return e.createElement(e.Fragment,null,F||E&&E.length>0?e.createElement(d.X,{isLoading:F,options:{paging:y,pageSize:h,search:!0,actionsColumnIndex:-1,...N},data:E,columns:V||P.F,actions:X||C,title:K?`${K} (${E.length})`:`All (${E.length})`}):e.createElement(n.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:e.createElement(m.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};B.columns=P.B,B.actions=g.f},74987:(O,l,t)=>{t.r(l),t.d(l,{EmbeddedDocsRouter:()=>N,LegacyEmbeddedDocsRouter:()=>Y,Router:()=>X,isTechDocsAvailable:()=>V});var e=t(14041),o=t(18690),r=t(78560),s=t(19108),c=t(64392),a=t(50460),d=t(84893),n=t(72814),m=t(17749);const g=i=>i.replace(/^\/+/,""),P=i=>i.replace(/\/+$/,"");function j(i){const{kind:D,name:E,namespace:C}=i,h=(0,n.S)(m.Oc),y=(0,n.S)(m.Ri);return(0,e.useMemo)(()=>{const x=P(h({kind:D,namespace:C,name:E})),z=P(y());return _=>{if(_.toLocaleLowerCase("en-US").startsWith(x.toLocaleLowerCase("en-US"))){const H=g(_.slice(x.length));return H.length===0||H.startsWith("#")?`${z}${H}`:`${z}/${H}`}return _}},[h,y,D,E,C])}const B=({entity:i,withSearch:D=!0})=>{let E=(0,r.sM)(i);const C=j(E);if(i.metadata.annotations?.[s.G])try{E=(0,r.KU)(i.metadata.annotations?.[s.G])}catch{}return e.createElement(c.Wj,{entityRef:E},e.createElement(d.Z,null),e.createElement(a.p,{withSearch:D,searchResultUrlMapper:C}))};var G=t(47640),W=t(33402),K=t(16400),F=t(32293);const V=i=>!!i?.metadata?.annotations?.[s.A]||!!i?.metadata?.annotations?.[s.G],X=()=>e.createElement(o.BV,null,e.createElement(o.qh,{path:"/",element:e.createElement(G.TechDocsIndexPage,null)}),e.createElement(o.qh,{path:"/:namespace/:kind/:name/*",element:e.createElement(W.W,null)})),N=i=>{const{children:D,emptyState:E,withSearch:C=!0}=i,{entity:h}=(0,K.tN)(),y=(0,o.Ye)([{path:"/*",element:e.createElement(B,{entity:h,withSearch:C}),children:[{path:"*",element:D}]}]);return h.metadata.annotations?.[s.A]||h.metadata.annotations?.[s.G]?y:E??e.createElement(F.o,{annotation:[s.A]})},Y=({children:i,withSearch:D=!0})=>e.createElement(N,{children:i,withSearch:D})},88461:(O,l,t)=>{t.d(l,{S:()=>c});var e=t(14041),o=t(92303),r=t(18139),s=t(54195);const c=a=>{const{children:d,CustomPageWrapper:n}=a,g=`Documentation available in ${(0,r.gf)(s.U).getOptionalString("organization.name")??"Backstage"}`;return e.createElement(e.Fragment,null,n?e.createElement(n,null,d):e.createElement(o.d,{title:"Documentation",subtitle:g,themeId:"documentation"},d))}},92303:(O,l,t)=>{t.d(l,{d:()=>s});var e=t(14041),o=t(79182),r=t(82326);function s(c){const{themeId:a,children:d,...n}=c;return e.createElement(r.Y,{themeId:a},e.createElement(o.Y,{...n}),d)}}}]);})();

//# sourceMappingURL=4987.2243bba6.chunk.js.map